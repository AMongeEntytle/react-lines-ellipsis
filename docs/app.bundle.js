(function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u=typeof require=="function"&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return i(n?n:e)},f,f.exports,e,t,n,r)}return n[a].exports}var o=typeof require=="function"&&require;for(var a=0;a<r.length;a++)i(r[a]);return i})({1:[function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function a(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=e("preact");var u=e("lodash/debounce");var l=e("../src/index");var f=e("../src/html");var c=e("./lorem");var p=s.h,d=s.render,v=s.Component;var h=window.location.search.slice(1);var m=c[h]||c.en;var y=h==="html";if(y){document.querySelector(".unsafe-warning").removeAttribute("hidden")}var b=window.innerWidth;var g=function(e){a(t,e);function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={text:m,maxLine:3,useEllipsis:true,renderId:1};n.onTextClick=n.onTextClick.bind(n);n.onTextKey=n.onTextKey.bind(n);n.onTextEdit=u(n.onTextEdit.bind(n),100);n.onChangeLines=u(n.onChangeLines.bind(n));n.onResize=u(n.onResize.bind(n),150);return n}r(t,[{key:"componentDidMount",value:function n(){window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function s(){window.removeEventListener("resize",this.onResize)}},{key:"onTextClick",value:function c(e){e.preventDefault();this.setState({useEllipsis:false})}},{key:"onTextKey",value:function d(e){if(e.keyCode===13){this.onTextClick()}}},{key:"onTextEdit",value:function v(e){this.setState({text:e.target.value,useEllipsis:true})}},{key:"onChangeLines",value:function h(e){this.setState({maxLine:e.target.value,useEllipsis:true})}},{key:"onResize",value:function g(){if(window.innerWidth===b)return;b=window.innerWidth;this.setState({renderId:this.state.renderId+1})}},{key:"renderUnsafe",value:function x(){var e=this.state,t=e.text,n=e.maxLine,r=e.useEllipsis,i=e.renderId;return p("div",null,p("label",{className:"lines-controller hide-sm"},"Show ",n," lines:",p("input",{type:"range",value:n,min:"1",max:"10",onInput:this.onChangeLines})),r?p("div",{onClick:this.onTextClick,onKeyDown:this.onTextKey,tabIndex:"0"},p(f,{className:"ellipsis-html",unsafeHTML:t,maxLine:n,ellipsis:"... read more",key:i})):p("div",{className:"ellipsis-html",dangerouslySetInnerHTML:{__html:t}}),p("textarea",{className:"text-editor",value:t,onInput:this.onTextEdit,placeHolder:"Enter any HTML",spellCheck:"false"}))}},{key:"renderSafe",value:function w(){var e=this.state,t=e.text,n=e.maxLine,r=e.useEllipsis,i=e.renderId;return p("div",null,p("label",{className:"lines-controller hide-sm"},"Show ",n," lines:",p("input",{type:"range",value:n,min:"1",max:"10",onInput:this.onChangeLines})),r?p("div",{onClick:this.onTextClick,onKeyDown:this.onTextKey,tabIndex:"0"},p(l,{className:"ellipsis-text",text:t,maxLine:n,ellipsis:"... read more",key:i})):p("div",{className:"ellipsis-text"},t),p("textarea",{className:"text-editor",value:t,onInput:this.onTextEdit,placeHolder:"Enter any text",spellCheck:"false"}))}},{key:"render",value:function _(){return y?this.renderUnsafe():this.renderSafe()}}]);return t}(v);window.requestAnimationFrame(function x(){d(p(g,null),document.getElementById("react-root"))})},{"../src/html":20,"../src/index":21,"./lorem":2,"lodash/debounce":9,preact:16}],2:[function(e,t,n){"use strict";t.exports={en:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut,enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\n\n".repeat(2).trim(),zh:["《长恨歌》","汉皇重色思倾国，御宇多年求不得。","杨家有女初长成，养在深闺人未识。","天生丽质难自弃，一朝选在君王侧。","回眸一笑百媚生，六宫粉黛无颜色。","春寒赐浴华清池，温泉水滑洗凝脂。","侍儿扶起娇无力，始是新承恩泽时。","云鬓花颜金步摇，芙蓉帐暖度春宵。","春宵苦短日高起，从此君王不早朝。","承欢侍宴无闲暇，春从春游夜专夜。","后宫佳丽三千人，三千宠爱在一身。","金屋妆成娇侍夜，玉楼宴罢醉和春。","姊妹弟兄皆列土，可怜光彩生门户。","遂令天下父母心，不重生男重生女。","骊宫高处入青云，仙乐风飘处处闻。","缓歌慢舞凝丝竹，尽日君王看不足。","渔阳鼙鼓动地来，惊破霓裳羽衣曲。"].join("\n    "),jp:["鳥の詩","消える飛行機雲　僕たちは見送った","眩しくて逃げた　いつだって弱くて","あの日から変わらず　いつまでも変わらずに","いられなかったこと　悔しくて指を離す","あの鳥は　まだ　うまく飛べないけど","いつかは　風を切って知る","届かない場所が　まだ遠くにある","願いだけ秘めて　見つめてる","子供たちは　夏の線路 歩く","吹く風に素足をさらして","遠くには幼かった日びを","両手には　飛び立つ希望を","消える飛行機雲　追いかけて　追いかけて","この丘を越えた　あの日から変わらず","いつまでも　真っ直ぐに","僕たちはあるように　わたつみのような","強さを守れるよ　きっと"].join("\n    "),emoji:"😛 🤑 🤓 😎 🤗 😏 😶 😐 😑 😒 🙄 🤔 😳 😞 😟 😠 😡 😔 ".repeat(20),html:'<h5>&#65799;<em>Nǐ hǎo 你好</em> <b>how are you</b> 😄   márħaban <b>העלא</b></h5>\n    <p>&#65800;CSS is <i>a&omega;esome</i> مفتاح معايير الويب!&rlm;</p>\n    &#65801;yeah!  <a target=_blank href=\'//github.com/xiaody/react-lines-ellipsis\'>Fork me at Github</a>\n    <br>\n    <ol>\n      <li>&#65802;task 1\n      <li>\n        <ul>\n          <li>&#65803;<span style="text-decoration: line-through">task 2.1</span>\n          <li>&#65804;task 2.2\n        </ul>\n      </li>\n      <li>&#65805;task 3\n    </ol>\n    <section style="color: grey">&#65806;до свидания！( ^_^ )/~</section>\n  '}},{}],3:[function(e,t,n){var r=e("./_root");var i=r.Symbol;t.exports=i},{"./_root":8}],4:[function(e,t,n){var r=e("./_Symbol"),i=e("./_getRawTag"),o=e("./_objectToString");var a="[object Null]",s="[object Undefined]";var u=r?r.toStringTag:undefined;function l(e){if(e==null){return e===undefined?s:a}e=Object(e);return u&&u in e?i(e):o(e)}t.exports=l},{"./_Symbol":3,"./_getRawTag":6,"./_objectToString":7}],5:[function(e,t,n){(function(e){var n=typeof e=="object"&&e&&e.Object===Object&&e;t.exports=n}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],6:[function(e,t,n){var r=e("./_Symbol");var i=Object.prototype;var o=i.hasOwnProperty;var a=i.toString;var s=r?r.toStringTag:undefined;function u(e){var t=o.call(e,s),n=e[s];try{e[s]=undefined;var r=true}catch(i){}var u=a.call(e);if(r){if(t){e[s]=n}else{delete e[s]}}return u}t.exports=u},{"./_Symbol":3}],7:[function(e,t,n){var r=Object.prototype;var i=r.toString;function o(e){return i.call(e)}t.exports=o},{}],8:[function(e,t,n){var r=e("./_freeGlobal");var i=typeof self=="object"&&self&&self.Object===Object&&self;var o=r||i||Function("return this")();t.exports=o},{"./_freeGlobal":5}],9:[function(e,t,n){var r=e("./isObject"),i=e("./now"),o=e("./toNumber");var a="Expected a function";var s=Math.max,u=Math.min;function l(e,t,n){var l,f,c,p,d,v,h=0,m=false,y=false,b=true;if(typeof e!="function"){throw new TypeError(a)}t=o(t)||0;if(r(n)){m=!!n.leading;y="maxWait"in n;c=y?s(o(n.maxWait)||0,t):c;b="trailing"in n?!!n.trailing:b}function g(t){var n=l,r=f;l=f=undefined;h=t;p=e.apply(r,n);return p}function x(e){h=e;d=setTimeout(E,t);return m?g(e):p}function w(e){var n=e-v,r=e-h,i=t-n;return y?u(i,c-r):i}function _(e){var n=e-v,r=e-h;return v===undefined||n>=t||n<0||y&&r>=c}function E(){var e=i();if(_(e)){return C(e)}d=setTimeout(E,w(e))}function C(e){d=undefined;if(b&&l){return g(e)}l=f=undefined;return p}function N(){if(d!==undefined){clearTimeout(d)}h=0;l=v=f=d=undefined}function T(){return d===undefined?p:C(i())}function k(){var e=i(),n=_(e);l=arguments;f=this;v=e;if(n){if(d===undefined){return x(v)}if(y){d=setTimeout(E,t);return g(v)}}if(d===undefined){d=setTimeout(E,t)}return p}k.cancel=N;k.flush=T;return k}t.exports=l},{"./isObject":10,"./now":13,"./toNumber":14}],10:[function(e,t,n){function r(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}t.exports=r},{}],11:[function(e,t,n){function r(e){return e!=null&&typeof e=="object"}t.exports=r},{}],12:[function(e,t,n){var r=e("./_baseGetTag"),i=e("./isObjectLike");var o="[object Symbol]";function a(e){return typeof e=="symbol"||i(e)&&r(e)==o}t.exports=a},{"./_baseGetTag":4,"./isObjectLike":11}],13:[function(e,t,n){var r=e("./_root");var i=function(){return r.Date.now()};t.exports=i},{"./_root":8}],14:[function(e,t,n){var r=e("./isObject"),i=e("./isSymbol");var o=0/0;var a=/^\s+|\s+$/g;var s=/^[-+]0x[0-9a-f]+$/i;var u=/^0b[01]+$/i;var l=/^0o[0-7]+$/i;var f=parseInt;function c(e){if(typeof e=="number"){return e}if(i(e)){return o}if(r(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=r(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=e.replace(a,"");var n=u.test(e);return n||l.test(e)?f(e.slice(2),n?2:8):s.test(e)?o:+e}t.exports=c},{"./isObject":10,"./isSymbol":12}],15:[function(e,t,n){(function(r){(function(r,i){typeof n==="object"&&typeof t!=="undefined"?t.exports=i(e("proptypes"),e("preact")):typeof define==="function"&&define.amd?define(["proptypes","preact"],i):r.preactCompat=i(r.PropTypes,r.preact)})(this,function(e,t){e="default"in e?e["default"]:e;var n="15.1.0";var i="a abbr address area article aside audio b base bdi bdo big blockquote body br button canvas caption cite code col colgroup data datalist dd del details dfn dialog div dl dt em embed fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup hr html i iframe img input ins kbd keygen label legend li link main map mark menu menuitem meta meter nav noscript object ol optgroup option output p param picture pre progress q rp rt ruby s samp script section select small source span strong style sub summary sup table tbody td textarea tfoot th thead time title tr track u ul var video wbr circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop svg text tspan".split(" ");var o=typeof Symbol==="function"&&Symbol.for&&Symbol.for("react.element")||60103;var a={constructor:1,render:1,shouldComponentUpdate:1,componentWillReceiveProps:1,componentWillUpdate:1,componentDidUpdate:1,componentWillMount:1,componentDidMount:1,componentWillUnmount:1,componentDidUnmount:1};var s=/^(?:accent|alignment|arabic|baseline|cap|clip|color|fill|flood|font|glyph|horiz|marker|overline|paint|stop|strikethrough|stroke|text|underline|unicode|units|v|vert|word|writing|x)[A-Z]/;var u={};var l=typeof r!=="undefined"&&r.env&&r.env.NODE_ENV!=="production";var f=function(){return null};var c=t.h("").constructor;c.prototype.$$typeof=o;c.prototype.preactCompatUpgraded=false;c.prototype.preactCompatNormalized=false;Object.defineProperty(c.prototype,"type",{get:function ee(){return this.nodeName},set:function te(e){this.nodeName=e},configurable:true});Object.defineProperty(c.prototype,"props",{get:function ne(){return this.attributes},set:function re(e){this.attributes=e},configurable:true});var p=t.options.vnode;t.options.vnode=function(e){if(!e.preactCompatUpgraded){e.preactCompatUpgraded=true;var t=e.nodeName,n=e.attributes;if(!n)n=e.attributes={};if(typeof t==="function"){if(t[k]===true||t.prototype&&"isReactComponent"in t.prototype){if(!e.preactCompatNormalized){L(e)}d(e)}}else if(n){v(e,n)}}if(p)p(e)};function d(e){var t=e.nodeName,n=e.attributes;e.attributes={};if(t.defaultProps)R(e.attributes,t.defaultProps);if(n)R(e.attributes,n);n=e.attributes;if(e.children&&!e.children.length)e.children=undefined;if(e.children)n.children=e.children}function v(e,t){var n,r,i;if(t){for(i in t)if(n=s.test(i))break;if(n){r=e.attributes={};for(i in t){if(t.hasOwnProperty(i)){r[s.test(i)?i.replace(/([A-Z0-9])/,"-$1").toLowerCase():i]=t[i]}}}}}function h(e,n,r){var i=n&&n._preactCompatRendered;if(i&&i.parentNode!==n)i=null;if(!i)i=n.children[0];for(var o=n.childNodes.length;o--;){if(n.childNodes[o]!==i){n.removeChild(n.childNodes[o])}}var a=t.render(e,n,i);if(n)n._preactCompatRendered=a;if(typeof r==="function")r();return a&&a._component||a.base}var m=function ie(){};m.prototype.getChildContext=function oe(){return this.props.context};m.prototype.render=function ae(e){return e.children[0]};function y(e,n,r,i){var o=t.h(m,{context:e.context},n);var a=h(o,r);if(i)i(a);return a}function b(e){var n=e._preactCompatRendered;if(n&&n.parentNode===e){t.render(t.h(f),e,n);return true}return false}var g=[];var x={map:function se(e,t,n){e=x.toArray(e);if(n&&n!==e)t=t.bind(n);return e.map(t)},forEach:function ue(e,t,n){e=x.toArray(e);if(n&&n!==e)t=t.bind(n);e.forEach(t)},count:function le(e){e=x.toArray(e);return e.length},only:function fe(e){e=x.toArray(e);if(e.length!==1)throw new Error("Children.only() expects only one child.");return e[0]},toArray:function ce(e){return Array.isArray&&Array.isArray(e)?e:g.concat(e)}};var w;function _(e){return j.bind(null,e)}var E={};for(var C=i.length;C--;){E[i[C]]=_(i[C])}function N(e,t){for(var n=t||0;n<e.length;n++){var r=e[n];if(Array.isArray(r)){N(r)}else if(r&&typeof r==="object"&&!U(r)&&(r.props&&r.type||r.attributes&&r.nodeName||r.children)){e[n]=j(r.type||r.nodeName,r.props||r.attributes,r.children)}}}function T(e){return typeof e==="function"&&!(e.prototype&&e.prototype.render)}var k=typeof Symbol!=="undefined"?Symbol.for("__preactCompatWrapper"):"__preactCompatWrapper";function S(e){return z({displayName:e.displayName||e.name,render:function t(n,r,i){return e(n,i)}})}function O(e){var t=e[k];if(t)return t===true?e:t;t=S(e);Object.defineProperty(t,k,{configurable:true,value:true});t.displayName=e.displayName;t.propTypes=e.propTypes;t.defaultProps=e.defaultProps;Object.defineProperty(e,k,{configurable:true,value:t});return t}function j(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];N(e,2);return L(t.h.apply(void 0,e))}function L(e){e.preactCompatNormalized=true;M(e);if(T(e.nodeName)){e.nodeName=O(e.nodeName)}var t=e.attributes.ref,n=t&&typeof t;if(w&&(n==="string"||n==="number")){e.attributes.ref=A(t,w)}I(e);return e}function P(e,n){var r=[],i=arguments.length-2;while(i-->0)r[i]=arguments[i+2];if(!U(e))return e;var o=e.attributes||e.props;var a=t.h(e.nodeName||e.type,o,e.children||o&&o.children);return L(t.cloneElement.apply(void 0,[a,n].concat(r)))}function U(e){return e&&(e instanceof c||e.$$typeof===o)}function A(e,t){return t._refProxies[e]||(t._refProxies[e]=function(n){if(t&&t.refs){t.refs[e]=n;if(n===null){delete t._refProxies[e];t=null}}})}function I(e){var t=e.nodeName;var n=e.attributes;if(!n||typeof t!=="string")return;var r={};for(var i in n){r[i.toLowerCase()]=i}if(r.onchange){t=t.toLowerCase();var o=t==="input"&&String(n.type).toLowerCase()==="checkbox"?"onclick":"oninput",a=r[o]||o;if(!n[a]){n[a]=G([n[r[o]],n[r.onchange]])}}}function M(e){var t=e.attributes;if(!t)return;var n=t.className||t.class;if(n)t.className=n}function R(e,t){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}return e}function W(e,t){for(var n in e)if(!(n in t))return true;for(var r in t)if(e[r]!==t[r])return true;return false}var D=function(e){return e&&e.base||e};function H(){}function z(e){var t=e.mixins&&q(e.mixins);function n(n,r){R(this,e);if(t)$(this,t);F(this);X.call(this,n,r,u);V.call(this,n,r)}if(e.statics){R(n,e.statics)}if(e.propTypes){n.propTypes=e.propTypes}if(e.defaultProps){n.defaultProps=e.defaultProps}if(e.getDefaultProps){n.defaultProps=e.getDefaultProps()}H.prototype=X.prototype;n.prototype=new H;n.prototype.constructor=n;n.displayName=e.displayName||"Component";return n}function q(e){var t={};for(var n=0;n<e.length;n++){var r=e[n];for(var i in r){if(r.hasOwnProperty(i)&&typeof r[i]==="function"){(t[i]||(t[i]=[])).push(r[i])}}}return t}function $(e,t){for(var n in t)if(t.hasOwnProperty(n)){e[n]=G(t[n].concat(e[n]||n))}}function F(e){for(var t in e){var n=e[t];if(typeof n==="function"&&!n.__bound&&!a.hasOwnProperty(t)){(e[t]=n.bind(e)).__bound=true}}}function B(e,t,n){if(typeof t==="string"){t=e.constructor.prototype[t]}if(typeof t==="function"){return t.apply(e,n)}}function G(e){return function(){var t=arguments;var n=this;var r;for(var i=0;i<e.length;i++){var o=B(n,e[i],t);if(typeof o!=="undefined")r=o}return r}}function V(e,t){K.call(this,e,t);this.componentWillReceiveProps=G([K,this.componentWillReceiveProps||"componentWillReceiveProps"]);this.render=G([K,Z,this.render||"render",J])}function K(e,t){var n=this;if(!e)return;var r=e.children;if(r&&Array.isArray(r)&&r.length===1){e.children=r[0];if(e.children&&typeof e.children==="object"){e.children.length=1;e.children[0]=e.children}}if(l){var i=typeof this==="function"?this:this.constructor,o=this.propTypes||i.propTypes;if(o){for(var a in o){if(o.hasOwnProperty(a)&&typeof o[a]==="function"){var s=n.displayName||i.name;var u=o[a](e,a,s,"prop");if(u)console.error(new Error(u.message||u))}}}}}function Z(e){w=this}function J(){if(w===this){w=null}}function X(e,n,r){t.Component.call(this,e,n);if(this.getInitialState)this.state=this.getInitialState();this.refs={};this._refProxies={};if(r!==u){V.call(this,e,n)}}X.prototype=new t.Component;R(X.prototype,{constructor:X,isReactComponent:{},replaceState:function pe(e,t){var n=this;this.setState(e,t);for(var r in this.state){if(!(r in e)){delete n.state[r]}}},getDOMNode:function de(){return this.base},isMounted:function ve(){return!!this.base}});function Q(e,t){X.call(this,e,t)}Q.prototype=new X({},{},u);Q.prototype.shouldComponentUpdate=function(e,t){return W(this.props,e)||W(this.state,t)};var Y={version:n,DOM:E,PropTypes:e,Children:x,render:h,createClass:z,createFactory:_,createElement:j,cloneElement:P,isValidElement:U,findDOMNode:D,unmountComponentAtNode:b,Component:X,PureComponent:Q,unstable_renderSubtreeIntoContainer:y};return Y})}).call(this,e("_process"))},{_process:17,preact:16,proptypes:18}],16:[function(e,t,n){!function(e,r){"object"==typeof n&&"undefined"!=typeof t?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(e.preact=e.preact||{})}(this,function(e){function t(e,t,n){this.nodeName=e;this.attributes=t;this.children=n;this.key=t&&t.key}function n(e,n){var r,i,o,a,s=[];for(a=arguments.length;a-->2;)H.push(arguments[a]);if(n&&n.children){if(!H.length)H.push(n.children);delete n.children}while(H.length)if((i=H.pop())instanceof Array)for(a=i.length;a--;)H.push(i[a]);else if(null!=i&&i!==!1){if("number"==typeof i||i===!0)i=String(i);o="string"==typeof i;if(o&&r)s[s.length-1]+=i;else{s.push(i);r=o}}var u=new t(e,n||void 0,s);if(D.vnode)D.vnode(u);return u}function r(e,t){if(t)for(var n in t)e[n]=t[n];return e}function i(e){return r({},e)}function o(e,t){for(var n=t.split("."),r=0;r<n.length&&e;r++)e=e[n[r]];return e}function a(e){return"function"==typeof e}function s(e){return"string"==typeof e}function u(e){var t="";for(var n in e)if(e[n]){if(t)t+=" ";t+=n}return t}function l(e,t){return n(e.nodeName,r(i(e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function f(e,t,n){var r=t.split(".");return function(t){var i=t&&t.target||this,a={},u=a,l=s(n)?o(t,n):i.nodeName?i.type.match(/^che|rad/)?i.checked:i.value:t,f=0;for(;f<r.length-1;f++)u=u[r[f]]||(u[r[f]]=!f&&e.state[r[f]]||{});u[r[f]]=l;e.setState(a)}}function c(e){if(!e._dirty&&(e._dirty=!0)&&1==Z.push(e))(D.debounceRendering||F)(p)}function p(){var e,t=Z;Z=[];while(e=t.pop())if(e._dirty)A(e)}function d(e){var t=e&&e.nodeName;return t&&a(t)&&!(t.prototype&&t.prototype.render)}function v(e,t){return e.nodeName(y(e),t||B)}function h(e,t){if(s(t))return e instanceof Text;if(s(t.nodeName))return m(e,t.nodeName);if(a(t.nodeName))return e._componentConstructor===t.nodeName||d(t);else;}function m(e,t){return e.normalizedNodeName===t||q(e.nodeName)===q(t)}function y(e){var t=i(e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(n)for(var r in n)if(void 0===t[r])t[r]=n[r];return t}function b(e){var t=e.parentNode;if(t)t.removeChild(e)}function g(e,t,n,r,i){if("className"===t)t="class";if("class"===t&&r&&"object"==typeof r)r=u(r);if("key"===t);else if("class"===t&&!i)e.className=r||"";else if("style"===t){if(!r||s(r)||s(n))e.style.cssText=r||"";if(r&&"object"==typeof r){if(!s(n))for(var o in n)if(!(o in r))e.style[o]="";for(var o in r)e.style[o]="number"==typeof r[o]&&!V[o]?r[o]+"px":r[o]}}else if("dangerouslySetInnerHTML"===t){if(r)e.innerHTML=r.__html}else if("o"==t[0]&&"n"==t[1]){var l=e._listeners||(e._listeners={});t=q(t.substring(2));if(r){if(!l[t])e.addEventListener(t,w,!!K[t])}else if(l[t])e.removeEventListener(t,w,!!K[t]);l[t]=r}else if("list"!==t&&"type"!==t&&!i&&t in e){x(e,t,null==r?"":r);if(null==r||r===!1)e.removeAttribute(t)}else{var f=i&&t.match(/^xlink\:?(.+)/);if(null==r||r===!1)if(f)e.removeAttributeNS("http://www.w3.org/1999/xlink",q(f[1]));else e.removeAttribute(t);else if("object"!=typeof r&&!a(r))if(f)e.setAttributeNS("http://www.w3.org/1999/xlink",q(f[1]),r);else e.setAttribute(t,r)}}function x(e,t,n){try{e[t]=n}catch(r){}}function w(e){return this._listeners[e.type](D.event&&D.event(e)||e)}function _(e){b(e);if(e instanceof Element){e._component=e._componentConstructor=null;var t=e.normalizedNodeName||q(e.nodeName);(J[t]||(J[t]=[])).push(e)}}function E(e,t){var n=q(e),r=J[n]&&J[n].pop()||(t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e));r.normalizedNodeName=n;return r}function C(){var e;while(e=X.pop()){if(D.afterMount)D.afterMount(e);if(e.componentDidMount)e.componentDidMount()}}function N(e,t,n,r,i,o){if(!Q++)Y=i instanceof SVGElement;var a=T(e,t,n,r);if(i&&a.parentNode!==i)i.appendChild(a);if(!--Q&&!o)C();return a}function T(e,t,n,r){var i=t&&t.attributes;while(d(t))t=v(t,n);if(null==t)t="";if(s(t)){if(e){if(e instanceof Text&&e.parentNode){if(e.nodeValue!=t)e.nodeValue=t;return e}O(e)}return document.createTextNode(t)}if(a(t.nodeName))return I(e,t,n,r);var o=e,u=t.nodeName,l=Y,f=t.children;if(!s(u))u=String(u);Y="svg"===u?!0:"foreignObject"===u?!1:Y;if(!e)o=E(u,Y);else if(!m(e,u)){o=E(u,Y);while(e.firstChild)o.appendChild(e.firstChild);O(e)}if(f&&1===f.length&&"string"==typeof f[0]&&1===o.childNodes.length&&o.firstChild instanceof Text){if(o.firstChild.nodeValue!=f[0])o.firstChild.nodeValue=f[0]}else if(f&&f.length||o.firstChild)k(o,f,n,r);var c=o[G];if(!c){o[G]=c={};for(var p=o.attributes,h=p.length;h--;)c[p[h].name]=p[h].value}j(o,t.attributes,c);if(i&&"function"==typeof i.ref)(c.ref=i.ref)(o);Y=l;return o}function k(e,t,n,r){var i,o,s,u,l=e.childNodes,f=[],c={},p=0,d=0,v=l.length,m=0,y=t&&t.length;if(v)for(var b=0;b<v;b++){var g=l[b],x=y?(o=g._component)?o.__key:(o=g[G])?o.key:null:null;if(x||0===x){p++;c[x]=g}else f[m++]=g}if(y)for(var b=0;b<y;b++){s=t[b];u=null;var x=s.key;if(null!=x){if(p&&x in c){u=c[x];c[x]=void 0;p--}}else if(!u&&d<m){for(i=d;i<m;i++){o=f[i];if(o&&h(o,s)){u=o;f[i]=void 0;if(i===m-1)m--;if(i===d)d++;break}}if(!u&&d<m&&a(s.nodeName)&&r){u=f[d];f[d++]=void 0}}u=T(u,s,n,r);if(u&&u!==e&&u!==l[b])e.insertBefore(u,l[b]||null)}if(p)for(var b in c)if(c[b])O(c[b]);if(d<m)S(f)}function S(e,t){for(var n=e.length;n--;)if(e[n])O(e[n],t)}function O(e,t){var n=e._component;if(n)M(n,!t);else{if(e[G]&&e[G].ref)e[G].ref(null);if(!t)_(e);if(e.childNodes&&e.childNodes.length)S(e.childNodes,t)}}function j(e,t,n){for(var r in n)if(!(t&&r in t)&&null!=n[r])g(e,r,n[r],n[r]=void 0,Y);if(t)for(var i in t)if(!("children"===i||"innerHTML"===i||i in n&&t[i]===("value"===i||"checked"===i?e[i]:n[i])))g(e,i,n[i],n[i]=t[i],Y)}function L(e){var t=e.constructor.name,n=ee[t];if(n)n.push(e);else ee[t]=[e]}function P(e,t,n){var r=new e(t,n),i=ee[e.name];R.call(r,t,n);if(i)for(var o=i.length;o--;)if(i[o].constructor===e){r.nextBase=i[o].nextBase;i.splice(o,1);break}return r}function U(e,t,n,r,i){if(!e._disable){e._disable=!0;if(e.__ref=t.ref)delete t.ref;if(e.__key=t.key)delete t.key;if(!e.base||i){if(e.componentWillMount)e.componentWillMount()}else if(e.componentWillReceiveProps)e.componentWillReceiveProps(t,r);if(r&&r!==e.context){if(!e.prevContext)e.prevContext=e.context;e.context=r}if(!e.prevProps)e.prevProps=e.props;e.props=t;e._disable=!1;if(0!==n)if(1===n||D.syncComponentUpdates!==!1||!e.base)A(e,1,i);else c(e);if(e.__ref)e.__ref(e)}}function A(e,t,n,o){if(!e._disable){var s,u,l,f,c=e.props,p=e.state,h=e.context,m=e.prevProps||c,b=e.prevState||p,g=e.prevContext||h,x=e.base,w=e.nextBase,_=x||w,E=e._component;if(x){e.props=m;e.state=b;e.context=g;if(2!==t&&e.shouldComponentUpdate&&e.shouldComponentUpdate(c,p,h)===!1)s=!0;else if(e.componentWillUpdate)e.componentWillUpdate(c,p,h);e.props=c;e.state=p;e.context=h}e.prevProps=e.prevState=e.prevContext=e.nextBase=null;e._dirty=!1;if(!s){if(e.render)u=e.render(c,p,h);if(e.getChildContext)h=r(i(h),e.getChildContext());while(d(u))u=v(u,h);var T,k,S=u&&u.nodeName;if(a(S)){l=E;var j=y(u);if(l&&l.constructor===S)U(l,j,1,h);else{T=l;l=P(S,j,h);l.nextBase=l.nextBase||w;l._parentComponent=e;e._component=l;U(l,j,0,h);A(l,1,n,!0)}k=l.base}else{f=_;T=E;if(T)f=e._component=null;if(_||1===t){if(f)f._component=null;k=N(f,u,h,n||!x,_&&_.parentNode,!0)}}if(_&&k!==_&&l!==E){var L=_.parentNode;if(L&&k!==L){L.replaceChild(k,_);if(!T){_._component=null;O(_)}}}if(T)M(T,k!==_);e.base=k;if(k&&!o){var I=e,R=e;while(R=R._parentComponent)(I=R).base=k;k._component=I;k._componentConstructor=I.constructor}}if(!x||n)X.unshift(e);else if(!s){if(e.componentDidUpdate)e.componentDidUpdate(m,b,g);if(D.afterUpdate)D.afterUpdate(e)}var W,H=e._renderCallbacks;if(H)while(W=H.pop())W.call(e);if(!Q&&!o)C()}}function I(e,t,n,r){var i=e&&e._component,o=e,a=i&&e._componentConstructor===t.nodeName,s=a,u=y(t);while(i&&!s&&(i=i._parentComponent))s=i.constructor===t.nodeName;if(i&&s&&(!r||i._component)){U(i,u,3,n,r);e=i.base}else{if(i&&!a){M(i,!0);e=o=null}i=P(t.nodeName,u,n);if(e&&!i.nextBase){i.nextBase=e;o=null}U(i,u,1,n,r);e=i.base;if(o&&e!==o){o._component=null;O(o)}}return e}function M(e,t){if(D.beforeUnmount)D.beforeUnmount(e);var n=e.base;e._disable=!0;if(e.componentWillUnmount)e.componentWillUnmount();e.base=null;var r=e._component;if(r)M(r,t);else if(n){if(n[G]&&n[G].ref)n[G].ref(null);e.nextBase=n;if(t){b(n);L(e)}S(n.childNodes,!t)}if(e.__ref)e.__ref(null);if(e.componentDidUnmount)e.componentDidUnmount()}function R(e,t){this._dirty=!0;this.context=t;this.props=e;if(!this.state)this.state={}}function W(e,t,n){return N(n,e,{},!1,t)}var D={};var H=[];var z={};var q=function(e){return z[e]||(z[e]=e.toLowerCase())};var $="undefined"!=typeof Promise&&Promise.resolve();var F=$?function(e){$.then(e)}:setTimeout;var B={};var G="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_";var V={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1};var K={blur:1,error:1,focus:1,load:1,resize:1,scroll:1};var Z=[];var J={};var X=[];var Q=0;var Y=!1;var ee={};r(R.prototype,{linkState:function(e,t){var n=this._linkedStates||(this._linkedStates={});return n[e+t]||(n[e+t]=f(this,e,t))},setState:function(e,t){var n=this.state;if(!this.prevState)this.prevState=i(n);r(n,a(e)?e(n,this.props):e);if(t)(this._renderCallbacks=this._renderCallbacks||[]).push(t);c(this)},forceUpdate:function(){A(this,2)},render:function(){}});e.h=n;e.cloneElement=l;e.Component=R;e.render=W;e.rerender=p;e.options=D})},{}],17:[function(e,t,n){var r=t.exports={};var i;var o;function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){i=setTimeout}else{i=a}}catch(e){i=a}try{if(typeof clearTimeout==="function"){o=clearTimeout}else{o=s}}catch(e){o=s}})();function u(e){if(i===setTimeout){return setTimeout(e,0)}if((i===a||!i)&&setTimeout){i=setTimeout;return setTimeout(e,0)}try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}function l(e){if(o===clearTimeout){return clearTimeout(e)}if((o===s||!o)&&clearTimeout){o=clearTimeout;return clearTimeout(e)}try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}var f=[];var c=false;var p;var d=-1;function v(){if(!c||!p){return}c=false;if(p.length){f=p.concat(f)}else{d=-1}if(f.length){h()}}function h(){if(c){return}var e=u(v);c=true;var t=f.length;while(t){p=f;f=[];while(++d<t){if(p){p[d].run()}}d=-1;t=f.length}p=null;c=false;l(e)}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var n=1;n<arguments.length;n++){t[n-1]=arguments[n]}}f.push(new m(e,t));if(f.length===1&&!c){u(h)}};function m(e,t){this.fun=e;this.array=t}m.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";r.versions={};function y(){}r.on=y;r.addListener=y;r.once=y;r.off=y;r.removeListener=y;r.removeAllListeners=y;r.emit=y;r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},{}],18:[function(e,t,n){(function(e,r){if(typeof define==="function"&&define.amd){define("PropTypes",["exports","module"],r)}else if(typeof n!=="undefined"&&typeof t!=="undefined"){r(n,t)}else{var i={exports:{}};r(i.exports,i);e.PropTypes=i.exports}})(this,function(e,t){"use strict";var n=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;var r={};r.isValidElement=function(e){return typeof e==="object"&&e!==null&&e.$$typeof===n};var i={prop:"prop",context:"context",childContext:"child context"};var o={thatReturns:function T(e){return function(){return e}}};var a=typeof Symbol==="function"&&Symbol.iterator;var s="@@iterator";function u(e){var t=e&&(a&&e[a]||e[s]);if(typeof t==="function"){return t}}var l="<<anonymous>>";var f={array:p("array"),bool:p("boolean"),func:p("function"),number:p("number"),object:p("object"),string:p("string"),any:d(),arrayOf:v,element:h(),instanceOf:m,node:x(),objectOf:b,oneOf:y,oneOfType:g,shape:w};function c(e){function t(t,n,r,o,a,s){o=o||l;s=s||r;if(n[r]==null){var u=i[a];if(t){return new Error("Required "+u+" `"+s+"` was not specified in "+("`"+o+"`."))}return null}else{return e(n,r,o,a,s)}}var n=t.bind(null,false);n.isRequired=t.bind(null,true);return n}function p(e){function t(t,n,r,o,a){var s=t[n];var u=E(s);if(u!==e){var l=i[o];var f=C(s);return new Error("Invalid "+l+" `"+a+"` of type "+("`"+f+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return c(t)}function d(){return c(o.thatReturns(null))}function v(e){function t(t,n,r,o,a){var s=t[n];if(!Array.isArray(s)){var u=i[o];var l=E(s);return new Error("Invalid "+u+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an array."))}for(var f=0;f<s.length;f++){var c=e(s,f,r,o,a+"["+f+"]");if(c instanceof Error){return c}}return null}return c(t)}function h(){function e(e,t,n,o,a){if(!r.isValidElement(e[t])){var s=i[o];return new Error("Invalid "+s+" `"+a+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return c(e)}function m(e){function t(t,n,r,o,a){if(!(t[n]instanceof e)){var s=i[o];var u=e.name||l;var f=N(t[n]);return new Error("Invalid "+s+" `"+a+"` of type "+("`"+f+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return c(t)}function y(e){if(!Array.isArray(e)){return c(function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function t(t,n,r,o,a){var s=t[n];for(var u=0;u<e.length;u++){if(s===e[u]){return null}}var l=i[o];var f=JSON.stringify(e);return new Error("Invalid "+l+" `"+a+"` of value `"+s+"` "+("supplied to `"+r+"`, expected one of "+f+"."));

}return c(t)}function b(e){function t(t,n,r,o,a){var s=t[n];var u=E(s);if(u!=="object"){var l=i[o];return new Error("Invalid "+l+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var f in s){if(s.hasOwnProperty(f)){var c=e(s,f,r,o,a+"."+f);if(c instanceof Error){return c}}}return null}return c(t)}function g(e){if(!Array.isArray(e)){return c(function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function t(t,n,r,o,a){for(var s=0;s<e.length;s++){var u=e[s];if(u(t,n,r,o,a)==null){return null}}var l=i[o];return new Error("Invalid "+l+" `"+a+"` supplied to "+("`"+r+"`."))}return c(t)}function x(){function e(e,t,n,r,o){if(!_(e[t])){var a=i[r];return new Error("Invalid "+a+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return c(e)}function w(e){function t(t,n,r,o,a){var s=t[n];var u=E(s);if(u!=="object"){var l=i[o];return new Error("Invalid "+l+" `"+a+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var f in e){var c=e[f];if(!c){continue}var p=c(s,f,r,o,a+"."+f);if(p){return p}}return null}return c(t)}function _(e){switch(typeof e){case"number":case"string":case"undefined":return true;case"boolean":return!e;case"object":if(Array.isArray(e)){return e.every(_)}if(e===null||r.isValidElement(e)){return true}var t=u(e);if(t){var n=t.call(e);var i;if(t!==e.entries){while(!(i=n.next()).done){if(!_(i.value)){return false}}}else{while(!(i=n.next()).done){var o=i.value;if(o){if(!_(o[1])){return false}}}}}else{return false}return true;default:return false}}function E(e){var t=typeof e;if(Array.isArray(e)){return"array"}if(e instanceof RegExp){return"object"}return t}function C(e){var t=E(e);if(t==="object"){if(e instanceof Date){return"date"}else if(e instanceof RegExp){return"regexp"}}return t}function N(e){if(!e.constructor||!e.constructor.name){return l}return e.constructor.name}t.exports=f})},{}],19:[function(e,t,n){"use strict";t.exports={canvasStyle:{position:"absolute",bottom:0,left:0,height:0,overflow:"hidden","padding-top":0,"padding-bottom":0,border:"none"},mirrorProps:["box-sizing","width","font-size","font-weight","font-family","font-style","letter-spacing","text-indent","white-space","word-break","padding-left","padding-right"]}},{}],20:[function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function a(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=e("preact-compat");var u=e("./common"),l=u.canvasStyle,f=u.mirrorProps;function c(e,t){if(t!=="letters"&&t!=="words"){throw new Error("Unsupported options basedOn: "+t)}if(e.nodeType===Node.TEXT_NODE){(function(){var n=document.createDocumentFragment();var r=void 0;switch(t){case"words":r=e.textContent.split(/\b|(?=\W)/);break;case"letters":r=Array.from(e.textContent);break}r.forEach(function(e){n.appendChild(p(e))});e.parentNode.replaceChild(n,e)})()}else if(e.nodeType===Node.ELEMENT_NODE){var n=[].slice.call(e.childNodes);var r=n.length;for(var i=0;i<r;i++){c(n[i],t)}}}function p(e){var t=document.createElement("span");t.className="LinesEllipsis-unit";t.textContent=e;return t}function d(e){e.parentNode.replaceChild(document.createTextNode(e.textContent),e)}function v(e,t){if(!t.contains(e)||e===t)return;while(e.nextElementSibling){e.parentNode.removeChild(e.nextElementSibling)}v(e.parentNode,t)}function h(e){var t=e;while(t=t.parentNode){if(/p|div|main|section|h\d|ul|ol|li/.test(t.tagName.toLowerCase())){return t}}}function m(e){return!!(e.offsetHeight&&(e.offsetWidth||/\S/.test(e.textContent)))}var y=function(e){a(t,e);function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={html:e.unsafeHTML,clamped:false};n.canvas=null;n.maxLine=0;n.nlUnits=[];return n}r(t,[{key:"componentDidMount",value:function n(){this.initCanvas();this.reflow(this.props)}},{key:"componentWillReceiveProps",value:function u(e){this.reflow(e)}},{key:"componentWillUnmount",value:function p(){this.canvas.parentNode.removeChild(this.canvas)}},{key:"initCanvas",value:function y(){if(this.canvas)return;var e=this.canvas=document.createElement("div");e.className="LinesEllipsis-canvas "+this.props.className;var t=window.getComputedStyle(this.target);f.forEach(function(n){e.style[n]=t[n]});Object.keys(l).forEach(function(t){e.style[t]=l[t]});document.body.appendChild(e)}},{key:"reflow",value:function b(e){this.maxLine=+e.maxLine||1;this.canvas.innerHTML=e.unsafeHTML;var t=e.basedOn||/^[\x00-\x7F]+$/.test(e.unsafeHTML)?"words":"letters";c(this.canvas,t);var n=this.putEllipsis(this.calcIndexes());this.setState({clamped:n});if(n){this.setState({html:this.canvas.innerHTML})}}},{key:"calcIndexes",value:function g(){var e=[0];var t=this.nlUnits=Array.from(this.canvas.querySelectorAll(".LinesEllipsis-unit"));var n=t.length;if(!t.length)return e;var r=1;var i=t[0].offsetTop;for(var o=1;o<n;o++){if(m(t[o])&&t[o].offsetTop-i>1){r++;e.push(o);i=t[o].offsetTop;if(r>this.maxLine){break}}}return e}},{key:"putEllipsis",value:function x(e){if(e.length<=this.maxLine)return false;this.nlUnits=this.nlUnits.slice(0,e[this.maxLine]);var t=this.nlUnits.pop();v(t,this.canvas);var n=this.makeEllipsisSpan();h(t).appendChild(n);while(t&&(!m(t)||n.offsetHeight>t.offsetHeight||n.offsetTop>t.offsetTop)){t=this.nlUnits.pop();v(t,this.canvas);h(t).appendChild(n)}d(t);this.nlUnits.forEach(d);return true}},{key:"makeEllipsisSpan",value:function w(){var e=document.createElement("span");e.appendChild(document.createElement("wbr"));var t=document.createElement("span");t.className="LinesEllipsis-ellipsis";t.textContent=this.props.ellipsis;e.appendChild(t);return e}},{key:"render",value:function _(){var e=this;var t=this.state,n=t.html,r=t.clamped;var i=this.props,o=i.className,a=i.unsafeHTML;return s.createElement("div",{className:"LinesEllipsis "+(r?"LinesEllipsis--clamped":"")+" "+o,ref:function u(t){return e.target=t}},s.createElement("div",{dangerouslySetInnerHTML:{__html:r?n:a}}))}}]);return t}(s.Component);y.defaultProps={unsafeHTML:"",maxLine:1,ellipsis:"…",className:""};t.exports=y},{"./common":19,"preact-compat":15}],21:[function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}return function(t,n,r){if(n)e(t.prototype,n);if(r)e(t,r);return t}}();function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&(typeof t==="object"||typeof t==="function")?t:e}function a(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof t)}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var s=e("preact-compat");var u=e("./common"),l=u.canvasStyle,f=u.mirrorProps;function c(e,t){while(e&&t--){e=e.previousElementSibling}return e}var p=function(e){a(t,e);function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={text:e.text,clamped:false};n.units=[];n.maxLine=0;n.canvas=null;return n}r(t,[{key:"componentDidMount",value:function n(){this.initCanvas();this.reflow(this.props)}},{key:"componentWillReceiveProps",value:function u(e){this.reflow(e)}},{key:"componentWillUnmount",value:function p(){this.canvas.parentNode.removeChild(this.canvas)}},{key:"initCanvas",value:function d(){if(this.canvas)return;var e=this.canvas=document.createElement("div");e.className="LinesEllipsis-canvas "+this.props.className;var t=window.getComputedStyle(this.target);f.forEach(function(n){e.style[n]=t[n]});Object.keys(l).forEach(function(t){e.style[t]=l[t]});document.body.appendChild(e)}},{key:"reflow",value:function v(e){var t=e.basedOn||/^[\x00-\x7F]+$/.test(e.text)?"words":"letters";switch(t){case"words":this.units=e.text.split(/\b|(?=\W)/);break;case"letters":this.units=Array.from(e.text);break;default:throw new Error("Unsupported options basedOn: "+t)}this.maxLine=+e.maxLine||1;this.canvas.innerHTML=this.units.map(function(e){return"<span class='LinesEllipsis-unit'>"+e+"</span>"}).join("");var n=this.putEllipsis(this.calcIndexes());var r=n>-1;this.setState({clamped:r,text:r?this.units.slice(0,n).join(""):e.text})}},{key:"calcIndexes",value:function h(){var e=[0];var t=this.canvas.firstElementChild;if(!t)return e;var n=0;var r=1;var i=t.offsetTop;while(t=t.nextElementSibling){if(t.offsetTop>i){r++;e.push(n);i=t.offsetTop}n++;if(r>this.maxLine){break}}return e}},{key:"putEllipsis",value:function m(e){if(e.length<=this.maxLine)return-1;var t=this.units.slice(0,e[this.maxLine]);this.canvas.innerHTML=t.map(function(e,t){return"<span class='LinesEllipsis-unit'>"+e+"</span>"}).join("")+("<wbr><span class='LinesEllipsis-ellipsis'>"+this.props.ellipsis+"</span>");var n=this.canvas.lastElementChild;var r=c(n,2);while(r&&(n.offsetHeight>r.offsetHeight||n.offsetTop>r.offsetTop)){this.canvas.removeChild(r);r=c(n,2);t.pop()}return t.length}},{key:"render",value:function y(){var e=this;var t=this.state,n=t.text,r=t.clamped;var i=this.props,o=i.ellipsis,a=i.trimRight,u=i.className;return s.createElement("div",{className:"LinesEllipsis "+(r?"LinesEllipsis--clamped":"")+" "+u,ref:function l(t){return e.target=t}},r&&a?n.replace(/[\s\uFEFF\xA0]+$/,""):n,s.createElement("wbr",null),r&&s.createElement("span",{className:"LinesEllipsis-ellipsis"},o))}}]);return t}(s.Component);p.defaultProps={text:"",maxLine:1,ellipsis:"…",trimRight:true,className:""};t.exports=p},{"./common":19,"preact-compat":15}]},{},[1]);